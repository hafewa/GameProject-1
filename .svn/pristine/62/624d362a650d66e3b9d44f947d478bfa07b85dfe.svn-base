using System;
 
class Logger
{
    static string makemsg(object msg)
    {
        if (msg == null) return "msg_null";
        //return DateTime.Now.ToString() + DateTime.Now.Millisecond.ToString() + " " + msg.ToString();
        return msg.ToString();
    }

    public static void LogDebug(object message)
    {
        message = makemsg(message);
        UnityEngine.Debug.Log(message);
        LuaDebugger.Single._Log(LOG_TYPE.Debug, message.ToString());
    }

    public static void Log(object message)
    {
        message = makemsg(message);
        UnityEngine.Debug.Log(message);
        LuaDebugger.Single._Log(LOG_TYPE.Info, message.ToString());
    }
     
     public static void Log2(object message,UnityEngine.Object context)
    {
        message = makemsg(message );
        UnityEngine.Debug.Log(message, context);
        LuaDebugger.Single._Log(LOG_TYPE.Info, message.ToString());
    }

     public static void LogError(object message)
     {
         message = makemsg(message);
         UnityEngine.Debug.LogError(message);
         LuaDebugger.Single._Log(LOG_TYPE.Error, message.ToString());
     }

     public static void LogError2(object message, UnityEngine.Object context)
     {
         message = makemsg(message );
         UnityEngine.Debug.LogError(message, context);
         LuaDebugger.Single._Log(LOG_TYPE.Error, message.ToString());
     }

     public static void LogWarning(object message)
    {
        message = makemsg(message );
        UnityEngine.Debug.LogWarning(message);
        LuaDebugger.Single._Log(LOG_TYPE.Warning, message.ToString());
    }

     public static void LogWarning2(object message, UnityEngine.Object context)
     {
         message = makemsg(message );
         UnityEngine.Debug.LogWarning(message, context);
         LuaDebugger.Single._Log(LOG_TYPE.Warning, message.ToString());
     }
    
     
} 
// using Logger = DebugAssist;
//using Logger = UnityEngine.Debug;

// thanks to dharco
// refer to https://github.com/dharco/UniLua/commit/2854ddf2500ab2f943f01a6d3c9af767c092ce75
public class ULDebug
{
    public delegate void LogFunc(object message);
    public delegate void Log2Func(object message, UnityEngine.Object context);

    public static LogFunc LogDebug;
    public static LogFunc Log;
    public static Log2Func Log2;
    public static LogFunc LogError;
    public static Log2Func LogError2;
    public static LogFunc LogWarning;
    public static Log2Func LogWarning2;

	static ULDebug()
	{
        LogDebug = Logger.LogDebug;
		Log = Logger.Log;
        Log2 = Logger.Log2;
		LogError = Logger.LogError;
        LogError2 = Logger.LogError2;
        LogWarning = Logger.LogWarning;
        LogWarning2 = Logger.LogWarning2;
	}

        

}
 

